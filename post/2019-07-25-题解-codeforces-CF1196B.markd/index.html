<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" >

<title>题解 codeforces CF1196B Odd Sum Segments | G_M_H博客</title>
<meta name="description" content="温故而知新">

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<link rel="shortcut icon" href="https://GMH2003.github.io/favicon.ico?v=1583801965059">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="stylesheet" href="https://unpkg.com/papercss@1.6.1/dist/paper.min.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link rel="stylesheet" href="https://GMH2003.github.io/styles/main.css">


<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>


<link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />


  </head>
  <body>
  
    <nav class="navbar border fixed split-nav">
  <div class="nav-brand">
    <h3><a href="https://GMH2003.github.io">G_M_H博客</a></h3>
  </div>
  <div class="collapsible">
    <input id="collapsible1" type="checkbox" name="collapsible1">
    <button>
      <label for="collapsible1">
        <div class="bar1"></div>
        <div class="bar2"></div>
        <div class="bar3"></div>
      </label>
    </button>
    <div class="collapsible-body">
      <ul class="inline">
        
          <li>
            
              <a href="/" class="menu">
                首页
              </a>
            
          </li>
        
          <li>
            
              <a href="/archives" class="menu">
                归档
              </a>
            
          </li>
        
          <li>
            
              <a href="/tags" class="menu">
                标签
              </a>
            
          </li>
        
          <li>
            
              <a href="/post/about" class="menu">
                关于
              </a>
            
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div id="top" class="row site">
      <div class="sm-12 md-8 col">
        <div class="paper">
          <article class="article">
            <h1>题解 codeforces CF1196B Odd Sum Segments</h1>
            <p class="article-meta">
              2019-07-26
              
                <a href="https://GMH2003.github.io/tag/Pd_DkRdiR/" class="badge success">
                  题解
                </a>
              
            </p>
            
            <div class="post-content">
              <h2 id="题目链接"><a href="http://codeforces.com/problemset/problem/1196/B">题目链接</a></h2>
<h2 id="题目">题目</h2>
<h2 id="b-odd-sum-segments">B. Odd Sum Segments</h2>
<ul>
<li>time limit per test3 seconds</li>
<li>memory limit per test256 megabytes</li>
<li>inputstandard input</li>
<li>outputstandard output</li>
</ul>
<p>You are given an array a consisting of n integers a1,a2,…,an. You want to split it into exactly k non-empty non-intersecting subsegments such that each subsegment has odd sum (i. e. for each subsegment, the sum of all elements that belong to this subsegment is odd). It is impossible to rearrange (shuffle) the elements of a given array. Each of the n elements of the array a must belong to exactly one of the k subsegments.</p>
<p>Let's see some examples of dividing the array of length 5 into 3 subsegments (not necessarily with odd sums): [1,2,3,4,5] is the initial array, then all possible ways to divide it into 3 non-empty non-intersecting subsegments are described below:</p>
<p>[1],[2],[3,4,5];<br>
[1],[2,3],[4,5];<br>
[1],[2,3,4],[5];<br>
[1,2],[3],[4,5];<br>
[1,2],[3,4],[5];<br>
[1,2,3],[4],[5].<br>
Of course, it can be impossible to divide the initial array into exactly k subsegments in such a way that each of them will have odd sum of elements. In this case print &quot;NO&quot;. Otherwise, print &quot;YES&quot; and any possible division of the array. See the output format for the detailed explanation.</p>
<p>You have to answer q independent queries.</p>
<h3 id="input">Input</h3>
<p>The first line contains one integer q (1≤q≤2⋅105) — the number of queries. Then q queries follow.</p>
<p>The first line of the query contains two integers n and k (1≤k≤n≤2⋅105) — the number of elements in the array and the number of subsegments, respectively.</p>
<p>The second line of the query contains n integers a1,a2,…,an (1≤ai≤109), where ai is the i-th element of a.</p>
<p>It is guaranteed that the sum of n over all queries does not exceed 2⋅105 (∑n≤2⋅105).</p>
<h3 id="output">Output</h3>
<p>For each query, print the answer to it. If it is impossible to divide the initial array into exactly k subsegments in such a way that each of them will have odd sum of elements, print &quot;NO&quot; in the first line. Otherwise, print &quot;YES&quot; in the first line and any possible division of the array in the second line. The division can be represented as k integers r1, r2, ..., rk such that 1≤r1&lt;r2&lt;⋯&lt;rk=n, where rj is the right border of the j-th segment (the index of the last element that belongs to the j-th segment), so the array is divided into subsegments [1;r1],[r1+1;r2],[r2+1,r3],…,[rk−1+1,n]. Note that rk is always n but you should print it anyway.</p>
<h3 id="example">Example</h3>
<h4 id="input-2">input</h4>
<pre><code>3
5 3
7 18 3 14 1
5 4
1 2 3 4 5
6 2
1 2 8 4 10 2
</code></pre>
<h4 id="output-2">output</h4>
<pre><code>YES
1 3 5
NO
NO
</code></pre>
<h2 id="分析及题解">分析及题解</h2>
<h3 id="做题经历">做题经历</h3>
<p>第一眼看到题目，爆搜？？？！！！<br>
第二眼看到题目，这是到大水题。</p>
<h3 id="题目分析">题目分析</h3>
<p>奇数+奇数=偶数；<br>
奇数+偶数=奇数；</p>
<p>既然是分组，使每组的和为奇数，那么就和偶数没什么关系了，只要统计奇数就行了。</p>
<p>先统计奇数的个数，如果奇数的个数小于k，那么直接输出NO。<br>
如果奇数的个数大于k，不妨把最后两个奇数合并成偶数（在同一组里）直到奇数的个数等于k，输出YES和解，否则也输出NO。</p>
<p>关于输出解，输出前k-1个奇数的位置，和n。</p>
<h3 id="代码附上">代码附上</h3>
<pre><code class="language-cpp">/*by G_M_H*/
#include&lt;cmath&gt;
#include&lt;cstdio&gt;
#include&lt;vector&gt;
#include&lt;cstring&gt;
#include&lt;utility&gt;
#include&lt;iostream&gt;
#include&lt;algorithm&gt;
#define LL long long
using namespace std;
int line[200005];
int n,k;
int main() {
	int q;
	scanf(&quot;%d&quot;,&amp;q);
	while(q--){
		scanf(&quot;%d%d&quot;,&amp;n,&amp;k);
		int ans=0;
		for(register int i=1;i&lt;=n;i++){
			scanf(&quot;%d&quot;,&amp;line[i]);
			if(line[i]%2) ans++;
		}
		if((ans&lt;k)||(ans-k)%2){
			printf(&quot;NO\n&quot;);
		}else{
			printf(&quot;YES\n&quot;);
			int pos=1;
			while(k&gt;1){
				if(line[pos]%2){
					printf(&quot;%d &quot;,pos);
					k--;
				}
				pos++;
			}
			printf(&quot;%d\n&quot;,n);
		}
	}
	return 0;
}
</code></pre>

            </div>
          </article>
        </div>
        <div class="paper" data-aos="fade-in">
          
            <div class="next-post">
              <div class="next">
                下一篇
              </div>
              <a href="https://GMH2003.github.io/post/2019-07-25-题解-codeforces-CF1196A.markd/">
                <h3 class="post-title">
                  题解 codeforces CF1196A Three Piles of Candies
                </h3>
              </a>
            </div>
          
        </div>
        
      </div>

      <div class="sm-12 md-4 col sidebar">
  <div class="paper info-container">
    <img src="https://GMH2003.github.io/images/avatar.png?v=1583801965059" class="no-responsive avatar">
    <div class="text-muted">温故而知新</div>
    <div class="social-container">
      
        
      
        
      
        
      
        
      
        
      
    </div>
  </div>
  <div class="paper">
    <div class="sidebar-title">
      最新文章
    </div>
    <div class="row">
      <ul>
        
          
            <li>
              <a href="https://GMH2003.github.io/post/xin-bo-ke-tong-zhi/">新博客通知</a>
            </li>
          
        
          
            <li>
              <a href="https://GMH2003.github.io/post/2019-10-11-排序总结.markd/">排序总结</a>
            </li>
          
        
          
            <li>
              <a href="https://GMH2003.github.io/post/2019-08-28-题解-洛谷-P2365-任务安排.markd/">题解 洛谷 P2365 任务安排&amp;&amp;斜率优化学习</a>
            </li>
          
        
          
            <li>
              <a href="https://GMH2003.github.io/post/2019-08-14-题解-codeforces-CF1200C.markd/">题解 codeforces CF1200C Round Corridor</a>
            </li>
          
        
          
            <li>
              <a href="https://GMH2003.github.io/post/2019-08-11-题解-洛谷-P2596-[ZJOI2006]书架.markd/">题解 洛谷 P2596 [ZJOI2006]书架</a>
            </li>
          
        
          
            <li>
              <a href="https://GMH2003.github.io/post/2019-07-25-题解-codeforces-CF1196B.markd/">题解 codeforces CF1196B Odd Sum Segments</a>
            </li>
          
        
          
            <li>
              <a href="https://GMH2003.github.io/post/2019-07-25-题解-codeforces-CF1196A.markd/">题解 codeforces CF1196A Three Piles of Candies</a>
            </li>
          
        
          
            <li>
              <a href="https://GMH2003.github.io/post/2019-07-20-并查集学习笔记.markd/">并查集学习笔记</a>
            </li>
          
        
          
            <li>
              <a href="https://GMH2003.github.io/post/2019-05-29-题解-洛谷-P1134-阶乘问题.markd/">题解 洛谷 P1134 阶乘问题</a>
            </li>
          
        
          
            <li>
              <a href="https://GMH2003.github.io/post/2019-05-29-题解-洛谷-P1439-模板-最长公共子序列.markd/">题解 洛谷 P1439 【模板】最长公共子序列</a>
            </li>
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      </ul>
    </div>
  </div>
  <div class="paper">
    <div class="sidebar-title">
      标签列表
    </div>
    <div class="row">
      
        <a href="https://GMH2003.github.io/tag/JUfRrOFqF/" class="badge secondary">
          学习笔记
        </a>
      
        <a href="https://GMH2003.github.io/tag/Pd_DkRdiR/" class="badge success">
          题解
        </a>
      
        <a href="https://GMH2003.github.io/tag/7wYuLg5X0/" class="badge success">
          其他
        </a>
      
    </div>
  </div>
  <div class="paper">
    遵循CC-BY-NC-SA 4.0协议 make by © 2020 <a href="https://www.gmh-home.cf" target="_blank">G_M_H</a> | <a class="rss" href="https://GMH2003.github.io/atom.xml" target="_blank">RSS</a>
  </div>
</div>


    </div>

    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>

<script type="application/javascript">

AOS.init();

hljs.initHighlightingOnLoad()

</script>




  </body>
</html>
